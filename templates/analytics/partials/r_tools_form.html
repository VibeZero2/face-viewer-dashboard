<div class="row mb-3">
    <div class="col-md-6">
        <div class="form-group">
            <label for="analysisType">Analysis Type</label>
            <select class="form-select" id="analysisType">
                <option value="descriptive">Descriptive Statistics</option>
                <option value="ttest">T-Test Analysis</option>
                <option value="anova">ANOVA</option>
                <option value="correlation">Correlation Analysis</option>
                <option value="regression">Regression Analysis</option>
                <option value="custom">Custom R Script</option>
            </select>
        </div>
    </div>
    <div class="col-md-6">
        <div class="form-group">
            <label for="dataSource">Data Source</label>
            <select class="form-select" id="dataSource">
                <option value="all">All Data</option>
                <option value="trust">Trust Ratings</option>
                <option value="masculinity">Masculinity Scores</option>
                <option value="symmetry">Symmetry Scores</option>
                <option value="custom">Custom Data Source</option>
            </select>
        </div>
    </div>
</div>

<div class="row mb-3">
    <div class="col-md-6">
        <div class="form-group">
            <label for="participantGroups">Participant Groups</label>
            <select class="form-select" id="participantGroups" multiple>
                <option value="all" selected>All Participants</option>
                <option value="group1">Group 1 (Full Face)</option>
                <option value="group2">Group 2 (Split Face)</option>
            </select>
            <small class="form-text text-muted">Hold Ctrl/Cmd to select multiple groups</small>
        </div>
    </div>
    <div class="col-md-6">
        <div class="form-group">
            <label for="faceVersions">Face Versions</label>
            <select class="form-select" id="faceVersions" multiple>
                <option value="all" selected>All Versions</option>
                <option value="full">Full Face</option>
                <option value="left">Left Half</option>
                <option value="right">Right Half</option>
            </select>
            <small class="form-text text-muted">Hold Ctrl/Cmd to select multiple versions</small>
        </div>
    </div>
</div>

<!-- T-Test Options (initially hidden) -->
<div id="ttestOptions" class="analysis-options" style="display: none;">
    <div class="row mb-3">
        <div class="col-md-6">
            <div class="form-group">
                <label for="ttestType">T-Test Type</label>
                <select class="form-select" id="ttestType">
                    <option value="independent">Independent Samples</option>
                    <option value="paired">Paired Samples</option>
                    <option value="onesample">One Sample</option>
                </select>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="ttestVariable">Test Variable</label>
                <select class="form-select" id="ttestVariable">
                    <option value="trust">Trust Rating</option>
                    <option value="masculinity">Masculinity Score</option>
                    <option value="symmetry">Symmetry Score</option>
                </select>
            </div>
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-md-6">
            <div class="form-group">
                <label for="ttestGroup1">Group 1</label>
                <select class="form-select" id="ttestGroup1">
                    <option value="full">Full Face</option>
                    <option value="left">Left Half</option>
                    <option value="right">Right Half</option>
                </select>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="ttestGroup2">Group 2</label>
                <select class="form-select" id="ttestGroup2">
                    <option value="full">Full Face</option>
                    <option value="left" selected>Left Half</option>
                    <option value="right">Right Half</option>
                </select>
            </div>
        </div>
    </div>
</div>

<!-- ANOVA Options (initially hidden) -->
<div id="anovaOptions" class="analysis-options" style="display: none;">
    <div class="row mb-3">
        <div class="col-md-6">
            <div class="form-group">
                <label for="anovaType">ANOVA Type</label>
                <select class="form-select" id="anovaType">
                    <option value="oneway">One-way ANOVA</option>
                    <option value="twoway">Two-way ANOVA</option>
                    <option value="repeated">Repeated Measures ANOVA</option>
                </select>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="anovaDependentVar">Dependent Variable</label>
                <select class="form-select" id="anovaDependentVar">
                    <option value="trust">Trust Rating</option>
                    <option value="masculinity">Masculinity Score</option>
                    <option value="symmetry">Symmetry Score</option>
                </select>
            </div>
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-md-6">
            <div class="form-group">
                <label for="anovaFactorA">Factor A</label>
                <select class="form-select" id="anovaFactorA">
                    <option value="face_version">Face Version</option>
                    <option value="participant_group">Participant Group</option>
                    <option value="gender">Gender</option>
                </select>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="anovaFactorB">Factor B (for Two-way ANOVA)</label>
                <select class="form-select" id="anovaFactorB">
                    <option value="none">None</option>
                    <option value="face_version">Face Version</option>
                    <option value="participant_group">Participant Group</option>
                    <option value="gender">Gender</option>
                </select>
            </div>
        </div>
    </div>
</div>

<!-- Correlation Options (initially hidden) -->
<div id="correlationOptions" class="analysis-options" style="display: none;">
    <div class="row mb-3">
        <div class="col-md-6">
            <div class="form-group">
                <label for="correlationType">Correlation Type</label>
                <select class="form-select" id="correlationType">
                    <option value="pearson">Pearson's r</option>
                    <option value="spearman">Spearman's rho</option>
                    <option value="kendall">Kendall's tau</option>
                </select>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="correlationVariables">Variables to Correlate</label>
                <select class="form-select" id="correlationVariables" multiple>
                    <option value="trust">Trust Rating</option>
                    <option value="masculinity">Masculinity Score</option>
                    <option value="symmetry">Symmetry Score</option>
                    <option value="face_ratio">Face Ratio</option>
                    <option value="quality_score">Quality Score</option>
                </select>
                <small class="form-text text-muted">Hold Ctrl/Cmd to select multiple variables</small>
            </div>
        </div>
    </div>
</div>

<!-- Regression Options (initially hidden) -->
<div id="regressionOptions" class="analysis-options" style="display: none;">
    <div class="row mb-3">
        <div class="col-md-6">
            <div class="form-group">
                <label for="regressionType">Regression Type</label>
                <select class="form-select" id="regressionType">
                    <option value="linear">Linear Regression</option>
                    <option value="multiple">Multiple Regression</option>
                    <option value="logistic">Logistic Regression</option>
                </select>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="dependentVariable">Dependent Variable</label>
                <select class="form-select" id="dependentVariable">
                    <option value="trust">Trust Rating</option>
                    <option value="masculinity">Masculinity Score</option>
                    <option value="symmetry">Symmetry Score</option>
                </select>
            </div>
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-12">
            <div class="form-group">
                <label for="independentVariables">Independent Variables</label>
                <select class="form-select" id="independentVariables" multiple>
                    <option value="trust">Trust Rating</option>
                    <option value="masculinity">Masculinity Score</option>
                    <option value="symmetry">Symmetry Score</option>
                    <option value="face_ratio">Face Ratio</option>
                    <option value="quality_score">Quality Score</option>
                    <option value="face_version">Face Version</option>
                </select>
                <small class="form-text text-muted">Hold Ctrl/Cmd to select multiple variables</small>
            </div>
        </div>
    </div>
</div>

<!-- Custom R Script (initially hidden) -->
<div id="customScriptOptions" class="analysis-options" style="display: none;">
    <div class="row mb-3">
        <div class="col-12">
            <div class="form-group">
                <label for="customRScript">Custom R Script</label>
                <textarea class="form-control" id="customRScript" rows="10" placeholder="# Enter your R code here
# Example:
library(tidyverse)
data <- read.csv('data.csv')
summary(data)
ggplot(data, aes(x=trust_rating)) + 
  geom_histogram(binwidth=1) +
  theme_minimal() +
  labs(title='Trust Rating Distribution')"></textarea>
            </div>
        </div>
    </div>
</div>

<!-- Analysis Options -->
<div class="row mb-3">
    <div class="col-12">
        <div class="form-group">
            <label>Analysis Options</label>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="includeCharts" checked>
                <label class="form-check-label" for="includeCharts">
                    Include Charts
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="includeDescriptives" checked>
                <label class="form-check-label" for="includeDescriptives">
                    Include Descriptive Statistics
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="includeAssumptionTests">
                <label class="form-check-label" for="includeAssumptionTests">
                    Include Assumption Tests
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="saveResults">
                <label class="form-check-label" for="saveResults">
                    Save Results
                </label>
            </div>
        </div>
    </div>
</div>

<div class="d-grid gap-2 d-md-flex justify-content-md-end">
    <button type="button" class="btn btn-secondary me-md-2" id="resetFormBtn">Reset</button>
    <button type="button" class="btn btn-primary" id="runAnalysisBtn">Run Analysis</button>
</div>
